= Vorbemerkungen =

**Ziel dieses Dokuments ist die Definition von Anforderungen im Rahmen eines TYPO3-Upgrades der Webseite** [[https://www.abda.de>>https://www.abda.de/]] **von Version TYPO3 v11 auf TYPO3 v13**

== Grundlage ==

Als Grundlage wird aktuelle Produktivumgebung (TYPO3 v11) [[https://www.abda.de/typo3>>https://www.abda.de/typo3]] benutzt.

Basierend darauf prüft coding. powerful. systems. CPS GmbH die verwendeten Komponenten inkl. der Datenbankstruktur sowie -beziehungen und trifft Aussagen für die technische Modernisierung.

Dabei werden Möglichkeiten einer weiteren Verwendung von vorhandenen Modulen, Extensions und Features geprüft.

Der Umfang benötigter Anpassungen für ein Upgrade hin zur TYPO3 LTS v13 wird in dieser Aufwandschätzung zusammengetragen.

= Basis-CMS-Funktionen =

Es gelten die für die Version 13.x LTS beschriebene Standardfunktionalitäten.

= Upgrade - Schritte auf LTS v13 =

* Upgrade vorbereiten (Backup, Branching, Abhängigkeiten)
* TYPO3-Core zuerst auf LTS v12 upgraden & Extensions für v12 anpassen
* TYPO3-Core auf LTS v13 upgraden
* Extensions aktualisieren & migrieren
* Migrationslösung für den Livegang entwickeln
* Templates der Extensions anpassen
* Technische Tests & Qualitätssicherung
* Änderungen dokumentieren
* Aufräumen & Bereinigung veralteter Konfigurationen

= Aufwandsschätzung =

{% set hourly_rate = hourly_rate ?? 960 %}
{% set vat_rate = vat_rate ?? 19 %}

{% set positions = [
    { key: 'server-setup',          category: 'Serveradministration', description: 'Aufsetzen neuer Server und Anpassung der Deployment-Struktur' },
    { key: 'typo3-bundle-upgrade',  category: 'Entwicklung',          description: 'Upgrade des TYPO3-Systems (bundle update)' },
    { key: 'extension-update',      category: 'Entwicklung',          description: 'Extensions-Update (inkl. Migration)' },
    { key: 'data-migration',        category: 'Entwicklung',          description: 'Datenmigration' },
    { key: 'upgrade-documentation', category: 'Entwicklung',          description: 'Upgrade-Dokumentation (Änderungen protokollieren)' },
    { key: 'component-testing',     category: 'Qualitätssicherung',   description: 'Testing der Komponenten' },
    { key: 'final-migration',       category: 'Qualitätssicherung',   description: 'Durchführung der Umstellung gemäß Upgrade-Dokumentation zur finalen Umstellung' },
    { key: 'project-support',       category: 'Projektleitung',       description: 'Internes und externes Projektmanagement, Agile Projektabwicklung' },
] %}

{% set total_net = 0 %}
{% for pos in positions %}
    {% set hours = estimated_hours[pos.key] ?? 0 %}
    {% if hours > 0 %}{% set total_net = total_net + (hours * hourly_rate) %}{% endif %}
{% endfor %}
{% set vat_amount = total_net * vat_rate / 100 %}
{% set total_gross = total_net + vat_amount %}

|= Pos. |= Bezeichnung |= Menge |= Einheit |= Einzelpreis |= Summe
{% set pos_nr = 0 %}
{% for pos in positions %}
    {% set hours = estimated_hours[pos.key] ?? 0 %}
    {% if hours > 0 %}
        {% set pos_nr = pos_nr + 1 %}
        {% set line_total = hours * hourly_rate %}
| {{ pos_nr }} | **{{ pos.category }}**\\ {{ pos.description }} | {{ hours|number_format(2, ',', '.') }} | Std. | {{ hourly_rate|number_format(2, ',', '.') }} € | **{{ line_total|number_format(2, ',', '.') }} €**
    {% endif %}
{% endfor %}
| | | | | Summe netto | {{ total_net|number_format(2, ',', '.') }} €
| | | | | zzgl. {{ vat_rate|number_format(0, ',', '.') }}% USt. | {{ vat_amount|number_format(2, ',', '.') }} €
| | | | | **Gesamtbetrag** | **{{ total_gross|number_format(2, ',', '.') }} €**

----

√úbersicht √ºber Code-Umfang, notwendige Anpassungen und Modernisierungsbedarf f√ºr Extensions ohne verf√ºgbare Version.

{% set totalHours = 0 %}
{% for data in extension_data %}
{# Skip extensions that are available in target version (TER or manual config) #}
{% set isAvailable = data.extension.key in extensionAvailableInTargetVersion or (data.version_analysis and data.version_analysis.ter_available) %}
{% if not isAvailable %}

==== {{ data.extension.key }} ====

|= Codezeilen |= PHP-Dateien |= Rector Findings |= Breaking Changes |= Veraltete Patterns |= Upgrade-Bereitschaft |= Aufwand (Std.)
{% if data.loc_analysis and data.rector_analysis -%}
{% set adjustedHours = (data.rector_analysis.estimated_fix_time_hours * 3) + 8 -%}
{% set totalHours = totalHours + adjustedHours -%}
| {{ data.loc_analysis.total_lines|number_format(0, ',', '.') }} | {{ data.loc_analysis.php_files }} | {{ data.rector_analysis.total_findings }} | {{ data.rector_analysis.has_breaking_changes ? '‚ö†Ô∏è Ja' : '‚úÖ Nein' }} | {{ data.rector_analysis.has_deprecations ? 'üìã Ja' : '‚úÖ Nein' }} | {{ "%.1f"|format(data.rector_analysis.upgrade_readiness_score) }}/10 | **{{ "%.1f"|format(adjustedHours) }}**
{% elseif data.loc_analysis -%}
| {{ data.loc_analysis.total_lines|number_format(0, ',', '.') }} | {{ data.loc_analysis.php_files }} | N/A | N/A | N/A | N/A | N/A
{% elseif data.rector_analysis -%}
{% set adjustedHours = (data.rector_analysis.estimated_fix_time_hours * 3) + 8 -%}
{% set totalHours = totalHours + adjustedHours -%}
| N/A | N/A | {{ data.rector_analysis.total_findings }} | {{ data.rector_analysis.has_breaking_changes ? '‚ö†Ô∏è Ja' : '‚úÖ Nein' }} | {{ data.rector_analysis.has_deprecations ? 'üìã Ja' : '‚úÖ Nein' }} | {{ "%.1f"|format(data.rector_analysis.upgrade_readiness_score) }}/10 | **{{ "%.1f"|format(adjustedHours) }}**
{% else -%}
| N/A | N/A | N/A | N/A | N/A | N/A | N/A
{% endif %}

**üìã Empfehlungen:**

{% if data.version_analysis and data.version_analysis.recommendations -%}
{% for recommendation in data.version_analysis.recommendations -%}
{% if 'not available' in recommendation %}* Extension ist in keinem bekannten Repository verf√ºgbar. Erw√§gen Sie eine Alternative oder kontaktieren Sie den Autor.
{% elseif 'only available via Git' in recommendation %}* Extension nur √ºber Git-Repository verf√ºgbar. {% if 'well-maintained' in recommendation %}Repository scheint gut gepflegt.{% else %}Pr√ºfen Sie den Wartungsstatus vor dem Upgrade.{% endif %}
{% elseif 'Git repository:' in recommendation %}* Git-Repository: {{ recommendation|replace({'Git repository: ': ''}) }}
{% elseif 'available in multiple sources' in recommendation %}* Extension in mehreren Quellen verf√ºgbar. Nutzen Sie die stabilste Quelle f√ºr Produktion.
{% elseif 'Composer' in recommendation or 'Packagist' in recommendation %}* Extension nur √ºber Composer/Packagist verf√ºgbar. Stellen Sie sicher, dass Composer-Modus verwendet wird.
{% elseif 'only available in TER' in recommendation %}* Extension nur im TER verf√ºgbar. Erw√§gen Sie Migration zu Composer falls n√∂tig.
{% elseif 'poor maintenance' in recommendation %}* Git-Repository zeigt Anzeichen mangelhafter Wartung. Erw√§gen Sie alternative Quellen oder Extensions.
{% elseif 'Local extension' in recommendation %}* Lokale Extension hat √∂ffentliche Alternativen. Erw√§gen Sie die Nutzung der offiziellen Version.
{% else %}* {{ recommendation }}
{% endif -%}
{% endfor -%}
{% endif -%}
{% if data.loc_analysis and data.loc_analysis.recommendations -%}
{% for recommendation in data.loc_analysis.recommendations -%}
{% if 'Small codebase' in recommendation %}* Kleine Codebasis ({{ data.loc_analysis.total_lines|number_format(0, ',', '.') }} Zeilen) - geringer Komplexit√§tsaufwand beim Upgrade erwartet.
{% elseif 'Medium-large codebase' in recommendation %}* Mittelgro√üe bis gro√üe Codebasis ({{ data.loc_analysis.total_lines|number_format(0, ',', '.') }} Zeilen) - planen Sie ausreichend Zeit f√ºr Tests ein.
{% elseif 'Large codebase' in recommendation %}* Gro√üe Codebasis ({{ data.loc_analysis.total_lines|number_format(0, ',', '.') }} Zeilen) - umfangreiche Tests erforderlich.
{% elseif 'Very large codebase' in recommendation %}* Sehr gro√üe Codebasis ({{ data.loc_analysis.total_lines|number_format(0, ',', '.') }} Zeilen) - sorgf√§ltige Planung und ausf√ºhrliche Tests notwendig.
{% elseif 'Medium-large file detected' in recommendation %}* Mittelgro√üe Datei erkannt ({{ data.loc_analysis.largest_file_lines|number_format(0, ',', '.') }} Zeilen) - auf potenzielle Probleme pr√ºfen.
{% elseif 'Large file detected' in recommendation %}* Gro√üe Datei erkannt ({{ data.loc_analysis.largest_file_lines|number_format(0, ',', '.') }} Zeilen) - gr√ºndliche √úberpr√ºfung empfohlen.
{% elseif 'Very large file' in recommendation %}* Sehr gro√üe Datei ({{ data.loc_analysis.largest_file_lines|number_format(0, ',', '.') }} Zeilen) - Refactoring in Betracht ziehen.
{% elseif 'Large number of files' in recommendation %}* Gro√üe Anzahl von Dateien ({{ data.loc_analysis.php_files }}) - systematischer Testansatz empfohlen.
{% else %}* {{ recommendation }}
{% endif -%}
{% endfor -%}
{% endif -%}
{% if data.rector_analysis and data.rector_analysis.recommendations -%}
{% for recommendation in data.rector_analysis.recommendations -%}
{% if 'breaking changes must be fixed' in recommendation -%}
{% set count = recommendation|split(' ')[1] -%}
* Kritisch: {{ count }} Breaking Changes m√ºssen vor dem Upgrade auf TYPO3 {{ target_version }} behoben werden.
{% elseif 'deprecated code patterns' in recommendation -%}
{% set count = recommendation|split(' ')[1] -%}
* Aktualisieren Sie {{ count }} veraltete Code-Patterns f√ºr Kompatibilit√§t mit zuk√ºnftigen TYPO3-Versionen.
{% elseif 'Moderate changes required' in recommendation -%}
{% set originalHours = recommendation|split('~')[1]|split(' ')[0] -%}
{% set adjustedHours = (originalHours * 3) + 8 -%}
* Moderate √Ñnderungen erforderlich (~{{ "%.1f"|format(adjustedHours) }} Stunden). Gr√ºndlich √ºberpr√ºfen und testen.
{% elseif 'Significant changes required' in recommendation -%}
{% set originalHours = recommendation|split('~')[1]|split(' ')[0] -%}
{% set adjustedHours = (originalHours * 3) + 8 -%}
* Umfangreiche √Ñnderungen erforderlich (~{{ "%.1f"|format(adjustedHours) }} Stunden). Detaillierte Planung notwendig.
{% elseif 'Minor changes required' in recommendation -%}
{% set originalHours = recommendation|split('~')[1]|split(' ')[0] -%}
{% set adjustedHours = (originalHours * 3) + 8 -%}
* Kleinere √Ñnderungen erforderlich (~{{ "%.1f"|format(adjustedHours) }} Stunden). Schnelle √úberpr√ºfung empfohlen.
{% elseif 'Large refactoring effort required' in recommendation -%}
{% set originalHours = recommendation|split('~')[1]|split(' ')[0] -%}
{% set adjustedHours = (originalHours * 3) + 8 -%}
* Umfangreiches Refactoring erforderlich (~{{ "%.1f"|format(adjustedHours) }} Stunden). Erw√§gen Sie gestaffelte Implementierung √ºber mehrere Releases.
{% elseif 'High complexity changes' in recommendation %}* Hochkomplexe √Ñnderungen erkannt. Code-Review und umfangreiche Tests in Betracht ziehen.
{% elseif 'Medium complexity changes' in recommendation %}* Mittlere Komplexit√§t der √Ñnderungen. Sorgf√§ltiges Testen empfohlen.
{% elseif 'half of extension files are affected' in recommendation %}* Mehr als die H√§lfte der Extension-Dateien betroffen. Umfassende Teststrategie erforderlich.
{% elseif 'quarter of extension files are affected' in recommendation %}* Mehr als ein Viertel der Extension-Dateien betroffen. Systematisches Testen empfohlen.
{% elseif 'Multiple files affected' in recommendation %}* Mehrere Dateien betroffen. Gr√ºndliches Testen vor Migration.
{% elseif 'Apply Rector' in recommendation %}* Wenden Sie TYPO3 Rector an, um Anpassungen zu automatisieren.
{% elseif 'breaking changes detected' in recommendation %}* Breaking Changes erkannt - Code-Anpassungen erforderlich vor Migration.
{% elseif 'deprecations found' in recommendation %}* Veraltete Code-Patterns gefunden - Aktualisierung empfohlen.
{% elseif 'significant effort' in recommendation %}* Erheblicher Aufwand erforderlich - detaillierte Planung notwendig.
{% elseif 'Focus on' in recommendation and 'Rector' in recommendation and 'occurrences' in recommendation -%}
{% set parts = recommendation|split(':') -%}
{% set rectorName = parts[0]|replace({'Focus on ': ''}) -%}
* Fokus auf {{ rectorName }}: {{ parts[1]|trim }}
{% elseif 'Extension requires significant work' in recommendation %}* Extension erfordert erhebliche Arbeit vor dem Upgrade. Erw√§gen Sie Alternativen oder umfangreiches Refactoring.
{% else %}* {{ recommendation }}
{% endif -%}
{% endfor -%}
{% endif -%}
{% if data.fractor_analysis and data.fractor_analysis.recommendations -%}
{% for recommendation in data.fractor_analysis.recommendations -%}
{% if 'Review specific Fractor suggestions' not in recommendation and 'Analysis covered' not in recommendation and 'Fractor analysis failed' not in recommendation -%}
{% if 'Minor modernization opportunities found' in recommendation %}* Kleinere Modernisierungsm√∂glichkeiten gefunden - niedrige Priorit√§t f√ºr Upgrade.
{% elseif 'Code appears to follow modern patterns' in recommendation %}* Code folgt modernen Patterns - minimale Refactoring-Aufw√§nde notwendig.
{% elseif 'modernization opportunities identified' in recommendation %}* Modernisierungsm√∂glichkeiten identifiziert - erw√§gen Sie Code-Updates.
{% elseif 'significant modernization potential' in recommendation %}* Erhebliches Modernisierungspotenzial erkannt - Code-Aktualisierung empfohlen.
{% elseif 'outdated patterns detected' in recommendation %}* Veraltete Patterns erkannt - Modernisierung dringend empfohlen.
{% elseif 'Apply Fractor' in recommendation %}* Wenden Sie Fractor an, um Code-Modernisierung zu automatisieren.
{% elseif 'No issues found' in recommendation %}* Keine Probleme gefunden - Code entspricht modernen Standards.
{% else %}* {{ recommendation }}
{% endif -%}
{% endif -%}
{% endfor -%}
{% endif -%}
{% if not ((data.version_analysis and data.version_analysis.recommendations) or (data.loc_analysis and data.loc_analysis.recommendations) or (data.rector_analysis and data.rector_analysis.recommendations) or (data.fractor_analysis and data.fractor_analysis.recommendations)) -%}
* ‚úÖ Keine spezifischen Empfehlungen - Extension erscheint bereit f√ºr Migration.
{% endif %}

---

{% endif %}
{% endfor %}

=== Gesamt Aufwand ===

**{{ "%.1f"|format(totalHours) }} Std.**
